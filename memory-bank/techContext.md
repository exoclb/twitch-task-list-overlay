# Tech Context

## Technologies Used

### Frontend Technologies:
- **HTML5**: Semantic structure with modern elements
- **CSS3**: Advanced styling with animations, flexbox, and CSS variables
- **Vanilla JavaScript (ES6+)**: Modern JavaScript features including:
  - Arrow functions
  - Template literals
  - Async/await
  - Destructuring
  - Array methods (map, filter, reduce)

### External Dependencies:
- **Google Fonts**: Roboto Mono for consistent typography
- **StreamElements API**: SE_API for storage and event handling
- **Twitch Chat Integration**: Through StreamElements event system

### Browser APIs:
- **DOM Manipulation**: Direct DOM access and modification
- **Local Storage**: Through StreamElements store abstraction
- **Date/Time API**: For timestamps and clock functionality
- **CSS Custom Properties**: For dynamic theming

## Development Setup

### File Structure:
```
twitch-task-list-overlay/
├── widget.html          # Main HTML structure
├── widget.css           # Styling and animations
├── widget.js            # Core functionality
├── fields.json          # StreamElements configuration
├── README.md            # Documentation
├── images/              # Screenshots and samples
└── memory-bank/         # Documentation system
```

### StreamElements Integration:
1. **Custom Widget Setup**: Copy HTML, CSS, JS, and fields.json to StreamElements
2. **Configuration**: Use StreamElements interface to customize settings
3. **Overlay URL**: Generated by StreamElements for OBS integration
4. **Browser Source**: 660x1600px recommended dimensions

### Development Workflow:
1. **Local Development**: Edit files directly
2. **Testing**: Copy to StreamElements test environment
3. **Deployment**: Update live StreamElements widget
4. **Version Control**: Git repository with GitHub integration

## Technical Constraints

### StreamElements Limitations:
- **No External Libraries**: Must use vanilla JavaScript
- **Storage API**: Limited to StreamElements store system
- **Event System**: Dependent on StreamElements message events
- **No Server-Side Logic**: Pure client-side implementation

### Browser Compatibility:
- **Modern Browsers**: Requires ES6+ support
- **OBS Browser Source**: Chromium-based, good compatibility
- **Mobile**: Not optimized for mobile viewing

### Performance Constraints:
- **Memory Usage**: Must be lightweight for streaming
- **DOM Updates**: Minimize reflows and repaints
- **Storage Calls**: Async operations may introduce latency
- **Animation Performance**: CSS animations preferred over JavaScript

## Dependencies

### Runtime Dependencies:
- **StreamElements Platform**: Required for all functionality
- **SE_API**: Storage and event handling
- **Twitch Chat**: Source of all user interactions
- **OBS Studio**: For overlay display

### Development Dependencies:
- **Git**: Version control
- **Text Editor**: VS Code recommended
- **Browser**: For testing and debugging

### Font Dependencies:
- **Google Fonts API**: Roboto Mono font family
- **Fallback Fonts**: Monospace system fonts

## Tool Usage Patterns

### StreamElements API Usage:
```javascript
// Storage operations
await SE_API.store.get(`tasks_${userId}`);
await SE_API.store.set(`tasks_${userId}`, tasks);

// Event handling
window.addEventListener("onEventReceived", function (obj) {
  const listener = obj.detail.listener;
  const data = obj.detail.event;
  // Handle chat messages
});
```

### Configuration Management:
```javascript
// Access field data
window.addEventListener("onWidgetLoad", function (obj) {
  fieldData = obj.detail.fieldData;
  // Initialize with user settings
});
```

### DOM Manipulation Patterns:
```javascript
// Efficient element creation and updates
const userCard = document.createElement("div");
userCard.className = "user-card";
userCard.setAttribute("data-user-id", userId);

// Template-based content updates
userCard.innerHTML = "";
userCard.appendChild(usernameElement);
userCard.insertAdjacentHTML("beforeend", tasksHTML);
```

### Error Handling Strategy:
```javascript
// Graceful degradation
try {
  await SE_API.store.set(`tasks_${userId}`, tasks);
  userTasks[userId] = tasks;
} catch (error) {
  console.error("Error saving tasks:", error);
  // Continue with in-memory state
}
```

### Performance Optimization:
- **Debounced Updates**: Batch DOM changes
- **Efficient Selectors**: Use specific selectors and cache elements
- **Memory Management**: Clean up event listeners and intervals
- **Lazy Loading**: Only render visible content

### CSS Architecture:
- **CSS Custom Properties**: Dynamic theming through variables
- **BEM-like Naming**: Consistent class naming convention
- **Animation Performance**: Use transform and opacity for smooth animations
- **Responsive Design**: Flexible layouts with CSS Grid and Flexbox

### JavaScript Patterns:
- **Module Pattern**: Encapsulated functionality
- **Event-Driven Architecture**: Reactive to user input
- **Async/Await**: Clean asynchronous code
- **Functional Programming**: Pure functions where possible
